// モーダルを開く ==================================================================
// 「Edit」ボタンを取得
var modalButton = document.getElementById('editButton-<%= @task.id %>');

// モーダルを新規に作成
var exampleModal = new bootstrap.Modal(document.getElementById('exampleModal'), {
    keyboard: false
})

// // モーダルを開く
// modalButton.addEventListener('click', function () {
//     exampleModal.toggle();
//     console.log('[edit_task_path Modal Open]')
// })

// フォームのレンダリング
var form = document.getElementsByTagName('form')[0]
// フォームを更新用フォームに置き換える。ボタンの文字は「更新」に変更
form.outerHTML = '<%= j(render 'form', task: @task, value: '更新', state: @task.state) %>'
// ==============================================================================
// ステータスボタンの押下動作 =======================================================
var stateButton = document.getElementById('state_btn')
var state = document.getElementById('task_state')

stateButton.addEventListener('click', function() {
  switch (state.value){
    case 'TODO':
      stateButton.innerHTML = 'DOING'
      state.value = 'DOING'
      break
    case 'DOING':
      stateButton.innerHTML = 'DONE'
      state.value = 'DONE'
      break
    case 'DONE':
      stateButton.innerHTML = 'TODO'
      state.value = 'TODO'
      break
  }
  console.log('[CREATE TASK] State Change [' + state.value + ']')
})
// ==============================================================================
