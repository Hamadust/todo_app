// モーダルを開く ==================================================================
// 「NEW TASK CREATE」ボタンを取得
var modalButton = document.getElementById('modalButton');

// モーダルを新規に作成
var exampleModal = new bootstrap.Modal(document.getElementById('exampleModal'), {
    keyboard: false
})

// モーダルを開く
modalButton.addEventListener('click', function () {
    exampleModal.toggle();
    console.log('[new_task_path Modal Open]')
})

// モーダル内のフォームを取得
var form = document.getElementsByTagName('form')[0]
// フォームのレンダリング
form.outerHTML = '<%= j(render 'form', task: Task.new, value: '投稿') %>'
// ==============================================================================

// ステータスボタンの押下動作 =======================================================
var stateButton = document.getElementById('state_btn')
var state = document.getElementById('task_state')

stateButton.addEventListener('click', function() {
  switch (state.value){
    case 'TODO':
      stateButton.innerHTML = 'DOING'
      state.value = 'DOING'
      break
    case 'DOING':
      stateButton.innerHTML = 'DONE'
      state.value = 'DONE'
      break
    case 'DONE':
      stateButton.innerHTML = 'TODO'
      state.value = 'TODO'
      break
  }
  console.log('[CREATE TASK] State Change [' + state.value + ']')
})
// ==============================================================================
